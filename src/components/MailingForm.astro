---
const errors = { email: "" };
if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const email = data.get("email");

    // Query Mailchimp
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<>
  <div class="flex flex-col items-center md:gap-2">
    <p class="font-semibold text-2xl md:text-3xl">
      Newsletter
    </p>
    <p class="text-center">
      Sign up to hear about weekly events, prayer points and
      more...
    </p>
  </div>
  <form
    class="flex flex-wrap justify-center gap-3"
    method="POST"
  >
    <label>
      <input
        class="p-3 rounded-md"
        type="email"
        name="email"
        placeholder="Email"
      />
    </label>
    {errors.email && <p>{errors.email}</p>}
    <button
      class="hover:bg-leaf-50 hover:text-leaf-500 bg-leaf-300 rounded-md px-4 py-2 flex items-center"
      >Sign&nbsp;up</button
    >
  </form>
</>
